{"version":3,"file":"Settings-XHuNSmYm.js","sources":["../../src/pages/Auth/Settings.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { supabase } from '../../supabase/config';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Settings = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [newEmail, setNewEmail] = useState('');\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [message, setMessage] = useState({ text: '', type: '' });\r\n  const navigate = useNavigate();\r\n\r\n  const updateEmail = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { error } = await supabase.auth.updateUser({\r\n        email: newEmail\r\n      });\r\n\r\n      if (error) throw error;\r\n      \r\n      setMessage({ text: 'Email update initiated. Please check your new email for confirmation.', type: 'success' });\r\n      setNewEmail('');\r\n    } catch (error) {\r\n      setMessage({ text: error.message, type: 'error' });\r\n    }\r\n  };\r\n\r\n  const updatePassword = async (e) => {\r\n    e.preventDefault();\r\n    if (newPassword !== confirmPassword) {\r\n      setMessage({ text: 'New passwords do not match', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { error } = await supabase.auth.updateUser({\r\n        password: newPassword\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      setMessage({ text: 'Password updated successfully', type: 'success' });\r\n      setCurrentPassword('');\r\n      setNewPassword('');\r\n      setConfirmPassword('');\r\n    } catch (error) {\r\n      setMessage({ text: error.message, type: 'error' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      minHeight: '100vh', \r\n      backgroundColor: '#151B3B', \r\n      padding: '40px',\r\n      color: '#fff'\r\n    }}>\r\n      <div style={{ maxWidth: '600px', margin: '0 auto' }}>\r\n        <h2 style={{ color: '#5DADE2', marginBottom: '30px' }}>Account Settings</h2>\r\n\r\n        {message.text && (\r\n          <div style={{ \r\n            padding: '15px',\r\n            marginBottom: '20px',\r\n            borderRadius: '5px',\r\n            backgroundColor: message.type === 'success' ? '#27AE60' : '#E74C3C',\r\n            color: '#fff'\r\n          }}>\r\n            {message.text}\r\n          </div>\r\n        )}\r\n\r\n        {/* Email Update Form */}\r\n        <div style={{ \r\n          backgroundColor: '#1a2147',\r\n          padding: '30px',\r\n          borderRadius: '10px',\r\n          marginBottom: '30px'\r\n        }}>\r\n          <h3 style={{ color: '#5DADE2', marginBottom: '20px' }}>Update Email</h3>\r\n          <form onSubmit={updateEmail}>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{ display: 'block', marginBottom: '10px' }}>Current Email</label>\r\n              <input\r\n                type=\"email\"\r\n                value={user?.email}\r\n                disabled\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '10px',\r\n                  backgroundColor: '#2C3E50',\r\n                  border: '1px solid #34495E',\r\n                  borderRadius: '5px',\r\n                  color: '#888'\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{ display: 'block', marginBottom: '10px' }}>New Email</label>\r\n              <input\r\n                type=\"email\"\r\n                value={newEmail}\r\n                onChange={(e) => setNewEmail(e.target.value)}\r\n                required\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '10px',\r\n                  backgroundColor: '#2C3E50',\r\n                  border: '1px solid #34495E',\r\n                  borderRadius: '5px',\r\n                  color: '#fff'\r\n                }}\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              style={{\r\n                backgroundColor: '#5DADE2',\r\n                color: '#fff',\r\n                padding: '10px 20px',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Update Email\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Password Update Form */}\r\n        <div style={{ \r\n          backgroundColor: '#1a2147',\r\n          padding: '30px',\r\n          borderRadius: '10px',\r\n          marginBottom: '30px'\r\n        }}>\r\n          <h3 style={{ color: '#5DADE2', marginBottom: '20px' }}>Update Password</h3>\r\n          <form onSubmit={updatePassword}>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{ display: 'block', marginBottom: '10px' }}>New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n                required\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '10px',\r\n                  backgroundColor: '#2C3E50',\r\n                  border: '1px solid #34495E',\r\n                  borderRadius: '5px',\r\n                  color: '#fff'\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{ display: 'block', marginBottom: '10px' }}>Confirm New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                required\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '10px',\r\n                  backgroundColor: '#2C3E50',\r\n                  border: '1px solid #34495E',\r\n                  borderRadius: '5px',\r\n                  color: '#fff'\r\n                }}\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              style={{\r\n                backgroundColor: '#5DADE2',\r\n                color: '#fff',\r\n                padding: '10px 20px',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Update Password\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Navigation Buttons */}\r\n        <div style={{ display: 'flex', gap: '20px', justifyContent: 'center' }}>\r\n          <button\r\n            onClick={() => navigate('/')}\r\n            style={{\r\n              backgroundColor: '#5DADE2',\r\n              color: '#fff',\r\n              padding: '10px 20px',\r\n              border: 'none',\r\n              borderRadius: '5px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            Go to Home\r\n          </button>\r\n          <button\r\n            onClick={() => navigate('/profile')}\r\n            style={{\r\n              backgroundColor: '#5DADE2',\r\n              color: '#fff',\r\n              padding: '10px 20px',\r\n              border: 'none',\r\n              borderRadius: '5px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            Go to Profile\r\n          </button>\r\n          <button\r\n            onClick={() => navigate('/billing')}\r\n            style={{\r\n              backgroundColor: '#5DADE2',\r\n              color: '#fff',\r\n              padding: '10px 20px',\r\n              border: 'none',\r\n              borderRadius: '5px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            Go to Billing\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"names":["Settings","user","useContext","AuthContext","newEmail","setNewEmail","useState","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","message","setMessage","text","type","navigate","useNavigate","updateEmail","e","preventDefault","error","supabase","auth","updateUser","email","updatePassword","password","jsx","style","minHeight","backgroundColor","padding","color","children","maxWidth","margin","marginBottom","borderRadius","jsxs","onSubmit","display","value","disabled","width","border","onChange","target","required","cursor","gap","justifyContent","onClick"],"mappings":"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"}