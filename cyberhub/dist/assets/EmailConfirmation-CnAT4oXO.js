import{r as a,b as p,j as e,L as l,s as g}from"./index-Cw1DFOQ-.js";const k=()=>{const[n,s]=a.useState("confirming"),[f,c]=a.useState(""),i=p();return a.useEffect(()=>{(async()=>{try{const r=new URLSearchParams(i.search);let o=r.get("access_token"),t=r.get("refresh_token");if(!o||!t){const u=i.hash.substring(1),h=new URLSearchParams(u);o=h.get("access_token"),t=h.get("refresh_token")}if(!o||!t)throw new Error("Invalid or missing tokens in confirmation link");const{error:m}=await g.auth.setSession({access_token:o,refresh_token:t});if(m)throw m;const{data:{user:x},error:d}=await g.auth.getUser();if(d)throw d;x.email_confirmed_at?s("success"):(c("Email not confirmed yet."),s("error"))}catch(r){console.error("Confirmation error:",r),c(r.message||"Failed to confirm email"),s("error")}})()},[i]),e.jsxs("div",{style:{backgroundColor:"#FFF1F1",minHeight:"100vh"},children:[e.jsx("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:e.jsx(l,{to:"/",style:{fontSize:"1.5rem",fontWeight:"bold",textDecoration:"none",color:"#000"},children:"CyberHub"})})}),e.jsxs("div",{style:{maxWidth:"400px",margin:"4rem auto",padding:"2rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",textAlign:"center"},children:[n==="confirming"&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Confirming your email..."}),e.jsx("p",{style:{color:"#666"},children:"Please wait while we verify your email address."})]}),n==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"2rem"},children:e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#10B981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{margin:"0 auto"},children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#10B981"},children:"Email Confirmed!"}),e.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"Your email has been successfully confirmed. You can now log in to your account."}),e.jsx(l,{to:"/login",style:{backgroundColor:"#6B4BFF",color:"#fff",padding:"0.75rem 1.5rem",borderRadius:"4px",textDecoration:"none",fontWeight:"500",display:"inline-block"},children:"Go to Login"})]}),n==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"2rem"},children:e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#DC2626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{margin:"0 auto"},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),e.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#DC2626"},children:"Confirmation Failed"}),e.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:f||"There was a problem confirming your email."}),e.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"Please try again or contact support if the problem persists."}),e.jsx(l,{to:"/signup",style:{backgroundColor:"#6B4BFF",color:"#fff",padding:"0.75rem 1.5rem",borderRadius:"4px",textDecoration:"none",fontWeight:"500",display:"inline-block"},children:"Back to Sign Up"})]})]})]})};export{k as default};
//# sourceMappingURL=EmailConfirmation-CnAT4oXO.js.map
