import{r as n,A as L,u as N,j as e,L as y}from"./index-Cw1DFOQ-.js";import{S as W}from"./SimpleTerminal-DysmQor3.js";import{g as C,u as D,c as O}from"./progress-9dy4qUrl.js";import{A as b}from"./AttackPagesHeader-DyV9K30K.js";import"./GoogleTranslateLanguageSelector-pw5Yfuop.js";const Z=()=>{const{user:l}=n.useContext(L),g=N(),[F,P]=n.useState(!1),[j,k]=n.useState(!1),[a,v]=n.useState(!1),[U,_]=n.useState("Ready"),[h,S]=n.useState(!1),[Y,T]=n.useState(!1),[G,w]=n.useState(null),[E,u]=n.useState(["[System] Monitoring system ready...","[System] Waiting for commands..."]),A=async()=>{var o,s,i,r;if(!(!l||!h)){T(!0);try{const t=await C(l.id),m={...t==null?void 0:t.progress,dosddos:{...(o=t==null?void 0:t.progress)==null?void 0:o.dosddos,httpFloodAttack:{completed:!0,completedAt:new Date().toISOString()},labs:{...(i=(s=t==null?void 0:t.progress)==null?void 0:s.dosddos)==null?void 0:i.labs,completed:B((r=t==null?void 0:t.progress)==null?void 0:r.dosddos)}}};t?await D(l.id,m):await O(l.id,m)}catch(t){console.error("Error saving progress:",t)}finally{T(!1)}}},B=o=>{var s,i,r,t;return o?((s=o.dosNormal)==null?void 0:s.completed)&&((i=o.ddosAttack)==null?void 0:i.completed)&&((r=o.slowlorisAttack)==null?void 0:r.completed)&&((t=o.httpFloodAttack)==null?void 0:t.completed):!1},$=o=>{if(console.log("Command received:",o),o==="sudo python3 launch_httpflood.py"){console.log("Starting attack..."),u([]),v(!0);const s=document.querySelector("iframe");s&&(s.contentWindow.postMessage({type:"startAttack",status:"active"},"*"),localStorage.setItem("ddosAttackStatus","active"))}else if(o==="sudo iptables -A INPUT -p tcp --dport 80 -m limit --limit 100/minute -j ACCEPT"){console.log("Stopping attack..."),v(!1),u(["[System] Attack stopped.","[System] Waiting for commands..."]);const s=document.querySelector("iframe");s&&(s.contentWindow.postMessage({type:"stopAttack",status:"stopped"},"*"),localStorage.setItem("ddosAttackStatus","stopped")),S(!0),A()}};n.useEffect(()=>{if(!l){g("/login");return}let o;return a&&(o=setInterval(()=>{const s=new Date,i=s.getHours().toString().padStart(2,"0"),r=s.getMinutes().toString().padStart(2,"0"),t=s.getSeconds().toString().padStart(2,"0"),m=s.getMilliseconds().toString().padStart(3,"0"),d=`${i}:${r}:${t}.${m}`,c=Math.floor(5e4+Math.random()*1e4),f=Math.floor(Math.random()*4294967295),R=Math.floor(Math.random()*4294967295),p=Math.floor(25246e5+Math.random()*1e5),x=Math.floor(22982e5+Math.random()*1e5),M=[`${d} IP 127.0.0.1.${c} > 127.0.0.2.4000: Flags [S], seq ${f}, win 65495, options [mss 65495,sackOK,TS val ${p} ecr 0,nop,wscale 7], length 0`,`${d} IP 127.0.0.2.4000 > 127.0.0.1.${c}: Flags [S.], seq ${R}, ack ${f+1}, win 65483, options [mss 65495,sackOK,TS val ${x} ecr ${p},nop,wscale 7], length 0`,`${d} IP 127.0.0.1.${c} > 127.0.0.2.4000: Flags [.], ack 1, win 512, options [nop,nop,TS val ${p} ecr ${x}], length 0`,`${d} IP 127.0.0.1.${c} > 127.0.0.2.4000: Flags [P.], seq 1:36, ack 1, win 512, options [nop,nop,TS val ${p} ecr ${x}], length 35`,`${d} IP 127.0.0.2.4000 > 127.0.0.1.${c}: Flags [.], ack 36, win 512, options [nop,nop,TS val ${x} ecr ${p}], length 0`,`${d} IP 127.0.0.1.${c} > 127.0.0.2.4000: Flags [F.], seq 36, ack 1, win 512, options [nop,nop,TS val ${p} ecr ${x}], length 0`,`${d} IP 127.0.0.2.4000 > 127.0.0.1.${c}: Flags [P.], seq 1:188, ack 37, win 512, options [nop,nop,TS val ${x+1} ecr ${p}], length 187`,`${d} IP 127.0.0.1.${c} > 127.0.0.2.4000: Flags [R], seq ${f+37}, win 0, length 0`];u(q=>[...q,...M])},50)),()=>{o&&clearInterval(o)}},[a]),n.useEffect(()=>{if(!l){g("/login");return}(async()=>{var s,i;try{const r=await C(l.id);if((s=r==null?void 0:r.progress)!=null&&s.dosddos)w(r.progress),(i=r.progress.dosddos.httpFloodAttack)!=null&&i.completed&&S(!0);else{const t={...r==null?void 0:r.progress,dosddos:{article:{completed:!1,progress:0},initialQuiz:{completed:!1},labs:{completed:!1},finalQuiz:{completed:!1},httpFloodAttack:{completed:!1}}};await D(l.id,t),w(t)}}catch(r){console.error("Error fetching progress:",r)}})()},[l,g]);const I=()=>{k(!0)},H=()=>{k(!1),P(!0)},z=`
    <!DOCTYPE html>
    <html>
    <head>
        <title>This site can't be reached</title>
        <style>
            body {
                font-family: -apple-system, system-ui, sans-serif;
                padding: 40px;
                color: #202124;
            }
            .error-icon {
                font-size: 48px;
                margin-bottom: 20px;
            }
            .title {
                font-size: 20px;
                font-weight: 500;
                margin-bottom: 8px;
            }
            .subtitle {
                color: #5f6368;
                margin-bottom: 20px;
            }
            .try-list {
                color: #5f6368;
                padding-left: 20px;
            }
            .try-list li {
                margin: 8px 0;
            }
            .error-code {
                color: #5f6368;
                margin-top: 20px;
                margin-bottom: 20px;
            }
            .btn {
                padding: 8px 16px;
                border-radius: 4px;
                font-size: 14px;
                cursor: pointer;
            }
            .reload {
                background: #1a73e8;
                color: white;
                border: none;
                margin-right: 12px;
            }
            .details {
                background: white;
                color: #1a73e8;
                border: 1px solid #dadce0;
            }
        </style>
    </head>
    <body>
        <div class="error-icon">⚠️</div>
        <div class="title">This site can't be reached</div>
        <div class="subtitle">blairhotels.com took too long to respond.</div>
        
        <div>Try:</div>
        <ul class="try-list">
            <li>Checking the connection</li>
            <li>Checking the proxy and the firewall</li>
            <li>Running Windows Network Diagnostics</li>
        </ul>

        <div class="error-code">ERR_CONNECTION_TIMED_OUT</div>

        <button class="btn reload">Reload</button>
        <button class="btn details">Details</button>
    </body>
    </html>
  `;return j?e.jsxs("div",{style:{backgroundColor:"#151B3B",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(b,{pageType:"dos"}),e.jsx("div",{style:{padding:"40px",fontFamily:"Georgia, serif",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsxs("div",{style:{maxWidth:"900px",width:"100%"},children:[e.jsx("h1",{style:{color:"#5DADE2",fontSize:"36px",marginBottom:"30px",textAlign:"center"},children:"Network Architecture Explanation"}),e.jsxs("section",{style:{marginBottom:"20px",backgroundColor:"#0b1437",padding:"20px",borderRadius:"8px"},children:[e.jsx("h2",{style:{color:"#F1C40F",fontSize:"28px",marginBottom:"10px"},children:"Overview"}),e.jsx("p",{style:{fontSize:"18px",lineHeight:"1.6"},children:"HTTP Flood is a volumetric DDoS attack that overwhelms web servers by sending a massive number of HTTP requests. Unlike other DDoS attacks, HTTP floods target the application layer (Layer 7) and can be particularly effective as they mimic legitimate traffic patterns."})]}),e.jsxs("section",{style:{marginBottom:"20px",backgroundColor:"#0b1437",padding:"20px",borderRadius:"8px"},children:[e.jsx("h2",{style:{color:"#F1C40F",fontSize:"28px",marginBottom:"10px"},children:"Components"}),e.jsxs("ul",{style:{fontSize:"18px",lineHeight:"1.6",paddingLeft:"20px"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Web Server:"})," The target system processing HTTP requests."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Load Balancer:"})," Distributes incoming traffic across multiple servers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Application Server:"})," Processes business logic and database queries."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Database Server:"})," Handles data storage and retrieval requests."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Attacker Infrastructure:"})," Multiple systems generating HTTP requests."]})]})]}),e.jsxs("section",{style:{marginBottom:"20px",backgroundColor:"#0b1437",padding:"20px",borderRadius:"8px"},children:[e.jsx("h2",{style:{color:"#F1C40F",fontSize:"28px",marginBottom:"10px"},children:"Attack Flow"}),e.jsxs("p",{style:{fontSize:"18px",lineHeight:"1.6"},children:["1. Attackers identify target web application endpoints.",e.jsx("br",{}),"2. Multiple systems send simultaneous HTTP GET/POST requests.",e.jsx("br",{}),"3. Each request requires full server-side processing.",e.jsx("br",{}),"4. Server resources become exhausted handling requests.",e.jsx("br",{}),"5. Legitimate users experience slow response or denial of service."]})]}),e.jsxs("section",{style:{marginBottom:"20px",backgroundColor:"#0b1437",padding:"20px",borderRadius:"8px"},children:[e.jsx("h2",{style:{color:"#F1C40F",fontSize:"28px",marginBottom:"10px"},children:"Why It Matters"}),e.jsx("p",{style:{fontSize:"18px",lineHeight:"1.6"},children:"Understanding HTTP flood architecture is crucial because these attacks are hard to distinguish from legitimate traffic. They exploit normal web server functionality, making traditional DDoS protection less effective. Proper implementation of rate limiting, traffic analysis, and scalable infrastructure are essential countermeasures."})]}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("button",{onClick:H,style:{backgroundColor:"#F1C40F",color:"#000",padding:"15px 30px",borderRadius:"5px",border:"none",fontSize:"20px",fontWeight:"600",cursor:"pointer"},children:"Proceed to Lab"})})]})})]}):!F&&!j?e.jsxs("div",{style:{backgroundColor:"#151B3B",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(b,{pageType:"dos"}),e.jsx("div",{style:{padding:"40px",fontFamily:"Georgia, serif",color:"#fff"},children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",textAlign:"center"},children:[e.jsx("h1",{style:{color:"#5DADE2",fontSize:"36px",marginBottom:"30px"},children:"HTTP Flood Attack Lab"}),e.jsxs("div",{style:{backgroundColor:"#1a2147",padding:"30px",borderRadius:"10px",marginBottom:"30px",border:"1px solid #5DADE2"},children:[e.jsx("h2",{style:{color:"#5DADE2",fontSize:"24px",marginBottom:"20px"},children:"Before You Begin"}),e.jsx("p",{style:{fontSize:"18px",lineHeight:"1.6",marginBottom:"20px"},children:"In this lab, you will:"}),e.jsxs("ul",{style:{textAlign:"left",fontSize:"18px",lineHeight:"1.6",marginBottom:"30px"},children:[e.jsx("li",{children:"Learn about HTTP Flood attacks and their impact on web servers"}),e.jsx("li",{children:"Understand how HTTP Flood overwhelms target systems"}),e.jsx("li",{children:"Monitor HTTP request patterns and server responses"}),e.jsx("li",{children:"Implement mitigation strategies against HTTP Flood attacks"})]}),e.jsx("div",{style:{backgroundColor:"#F1C40F",color:"#000",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:"⚠️ This is a controlled environment for educational purposes only"})]}),e.jsx("button",{onClick:I,style:{backgroundColor:"#F1C40F",color:"#000",padding:"15px 30px",borderRadius:"5px",border:"none",fontSize:"20px",fontWeight:"600",cursor:"pointer"},children:"Start Lab Environment"})]})})]}):e.jsxs("div",{style:{backgroundColor:"#151B3B",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(b,{pageType:"dos"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"20px",padding:"20px",flex:1,overflowY:"auto"},children:[e.jsxs("div",{style:{backgroundColor:"#1a2147",borderRadius:"5px",padding:"20px",color:"#fff",display:"flex",flexDirection:"column",maxHeight:"calc(50vh - 60px)",overflowY:"auto"},children:[e.jsx("h3",{style:{color:"#5DADE2",marginBottom:"15px",flexShrink:0},children:"Attack Terminal"}),e.jsx("div",{style:{flexGrow:1,minHeight:"300px"},children:e.jsx(W,{onCommand:$})})]}),e.jsxs("div",{style:{backgroundColor:"#1a2147",borderRadius:"5px",padding:"20px",color:"#fff",maxHeight:"calc(50vh - 60px)",overflowY:"auto"},children:[e.jsx("h3",{style:{color:"#5DADE2",marginBottom:"15px"},children:"Instructions"}),e.jsxs("div",{style:{backgroundColor:"#151B3B",padding:"15px",borderRadius:"5px",marginBottom:"15px"},children:[e.jsx("h4",{style:{color:"#F1C40F",marginBottom:"10px"},children:"Step 1: Launch the Attack"}),e.jsx("p",{children:"1. In the Attack Terminal, type and run:"}),e.jsx("pre",{style:{backgroundColor:"#000",padding:"10px",borderRadius:"5px",marginTop:"10px",color:"#5DADE2"},children:"sudo python3 launch_httpflood.py"}),e.jsxs("p",{style:{marginTop:"10px"},children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"sudo"})," – Runs the command with superuser (admin) privileges."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"python3"})," – Invokes the Python 3 interpreter to run a Python script."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"launch_httpflood.py"})," – The Python script that initiates the HTTP Flood attack by sending a high volume of HTTP requests."]}),e.jsx("p",{style:{marginTop:"10px"},children:"2. Watch the Monitoring Terminal to see the attack progress and then click on the link again"}),e.jsx("p",{style:{marginTop:"10px"},children:"3. The target website should become unresponsive"})]}),e.jsxs("div",{style:{backgroundColor:"#151B3B",padding:"15px",borderRadius:"5px"},children:[e.jsx("h4",{style:{color:"#F1C40F",marginBottom:"10px"},children:"Step 2: Stop the Attack"}),e.jsx("p",{children:"1. Once the website is unresponsive, type and run:"}),e.jsx("pre",{style:{backgroundColor:"#000",padding:"10px",borderRadius:"5px",marginTop:"10px",color:"#5DADE2"},children:"sudo iptables -A INPUT -p tcp --dport 80 -m limit --limit 100/minute -j ACCEPT"}),e.jsxs("p",{style:{marginTop:"10px"},children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"sudo"})," – Runs the command with superuser (admin) privileges."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"iptables"})," – The command-line utility to set up, maintain, and inspect Linux firewall rules."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"-A INPUT"})," – Appends (-A) a rule to the INPUT chain (which handles incoming traffic)."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"-p tcp --dport 80"})," – Matches TCP packets destined for port 80 (HTTP)."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"-m limit --limit 100/minute"})," – Limits requests to 100 per minute per IP."]}),e.jsxs("p",{children:["• ",e.jsx("span",{style:{color:"#40E0D0"},children:"-j ACCEPT"})," – Tells iptables to accept matching packets (all others will be dropped by default policy)."]}),e.jsx("p",{style:{marginTop:"10px"},children:"2. Watch the Monitoring Terminal - traffic should normalize"}),e.jsx("p",{style:{marginTop:"10px"},children:"3. The target website should become responsive again"}),e.jsxs("div",{style:{backgroundColor:"#0b1437",padding:"20px",borderRadius:"5px",marginTop:"20px",color:"#F1C40F",fontSize:"18px"},children:[e.jsx("h3",{style:{marginTop:0,marginBottom:"10px"},children:"Note on Attack Files"}),e.jsx("p",{children:"The files you ran are premade attack files done to show you how you can mitigate an HTTP Flood attack. Those commands represent real life scenarios. In the next levels you will learn how can you start these attacks by yourself"})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#1a2147",borderRadius:"5px",padding:"20px",color:"#fff",maxHeight:"calc(50vh - 60px)",display:"flex",flexDirection:"column"},children:[e.jsx("h3",{style:{color:"#5DADE2",marginBottom:"15px",flexShrink:0},children:"Monitoring Terminal"}),e.jsx("div",{style:{flexGrow:1,backgroundColor:"#000",borderRadius:"5px",padding:"10px",overflowY:"auto",minHeight:"200px"},children:E.map((o,s)=>e.jsx("div",{style:{color:o.includes("normalizing")||o.includes("<100ms")?"#44ff44":"#ff4444",marginBottom:"5px",fontFamily:"monospace",fontSize:"14px"},children:o},s))})]}),e.jsxs("div",{style:{backgroundColor:"#151B3B",borderRadius:"10px",padding:"20px",color:"#fff"},children:[e.jsx("h2",{style:{color:"#5DADE2",marginBottom:"20px",fontSize:"28px",fontWeight:"normal"},children:"Target Website"}),e.jsxs("div",{style:{backgroundColor:"#1a2147",padding:"20px",borderRadius:"10px",display:"flex",flexDirection:"column",gap:"15px"},children:[e.jsx("div",{style:{backgroundColor:"#151B3B",padding:"10px",borderRadius:"5px",marginBottom:"10px"},children:e.jsx("div",{onClick:()=>{a?window.open("","_blank").document.write(z):window.open("https://blairhotels.com","_blank")},style:{color:"#5DADE2",textDecoration:"none",display:"block",textAlign:"center",cursor:"pointer"},children:"https://blairhotels.com"})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"16px"},children:"Status:"}),e.jsx("span",{style:{color:a?"#ff4444":"#44ff44",fontSize:"16px"},children:a?"Offline":"Online"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"16px"},children:"Response Time:"}),e.jsx("span",{style:{color:a?"#ff4444":"#5DADE2",fontSize:"16px"},children:a?`>${Math.floor(2e3+Math.random()*1e3)}ms`:"<100ms"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"16px"},children:"Traffic:"}),e.jsx("span",{style:{color:a?"#ff4444":"#5DADE2",fontSize:"16px"},children:a?`${Math.floor(1e4+Math.random()*5e3)} req/s`:"Normal"})]})]})]})]}),e.jsxs("div",{style:{padding:"20px",backgroundColor:"#1a2147",display:"flex",justifyContent:"space-between",zIndex:10},children:[e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsxs(y,{to:"/",style:{backgroundColor:"#5DADE2",color:"#fff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"🏠"}),"Home"]}),e.jsxs(y,{to:"/DosAndDdos/AttackPages/SlowlorisAttack",style:{backgroundColor:"#5DADE2",color:"#fff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"←"}),"Previous: Slowloris Attack"]})]}),e.jsxs(y,{to:"/DosAndDdos/AttackPages/CommonAttacks",style:{backgroundColor:h?"#F1C40F":"#5DADE2",color:h?"#000":"#fff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",alignItems:"center",gap:"10px"},onClick:A,children:[h?"Continue to Common Attacks":"Next: See Common Attacks",e.jsx("span",{style:{fontSize:"20px"},children:"→"})]})]})]})};export{Z as default};
//# sourceMappingURL=HttpFloodAttack-BeFmXkmi.js.map
