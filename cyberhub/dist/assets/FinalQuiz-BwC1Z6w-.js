import{r as i,A as q,j as e,L as u}from"./index-Cw1DFOQ-.js";import{g as D,u as k,c as T}from"./progress-9dy4qUrl.js";import{A}from"./AttackPagesHeader-DyV9K30K.js";import{M as B}from"./ModuleProgressCircle-0pbFbaly.js";import"./GoogleTranslateLanguageSelector-pw5Yfuop.js";const L=()=>{const{user:a}=i.useContext(q),[r,p]=i.useState(0),[c,x]=i.useState(0),[C,f]=i.useState(!1),[l,g]=i.useState(null),[y,m]=i.useState(null),[b,h]=i.useState(!1),j={status:"final_quiz_started",component_progress:{article:{completed:!0,started:!0},initial_quiz:{completed:!0,started:!0},labs:{first:{completed:!0,started:!0},second:{completed:!0,started:!0},third:{completed:!0,started:!0}},final_quiz:{started:!0,completed:!1}}},o=[{questionText:"What is the main purpose of Out-of-Band techniques in SQL injection attacks?",answerOptions:[{text:"To exfiltrate data through indirect channels like DNS or HTTP requests",isCorrect:!0},{text:"To encrypt database traffic",isCorrect:!1},{text:"To delete database records",isCorrect:!1},{text:"To create new tables",isCorrect:!1}]},{questionText:"How does Error-based (Classic) SQL injection work?",answerOptions:[{text:"By causing random errors",isCorrect:!1},{text:"By exploiting error messages to extract data",isCorrect:!0},{text:"By crashing the database",isCorrect:!1},{text:"By modifying error logs",isCorrect:!1}]},{questionText:"What characterizes a blind SQL injection attack?",answerOptions:[{text:"Attacker can't see the database",isCorrect:!1},{text:"Database is offline",isCorrect:!1},{text:"No direct output of query results is visible",isCorrect:!0},{text:"All queries fail",isCorrect:!1}]},{questionText:"Which is an effective defense against SQL injection?",answerOptions:[{text:"Using parameterized queries",isCorrect:!0},{text:"Removing all user input",isCorrect:!1},{text:"Disabling the database",isCorrect:!1},{text:"Using plain text passwords",isCorrect:!1}]},{questionText:"What makes time-based blind SQL injection possible?",answerOptions:[{text:"Server response timing differences",isCorrect:!0},{text:"Database encryption",isCorrect:!1},{text:"Network latency",isCorrect:!1},{text:"User permissions",isCorrect:!1}]},{questionText:"Which practice helps prevent SQL injection attacks?",answerOptions:[{text:"Input validation and sanitization",isCorrect:!0},{text:"Storing passwords in plain text",isCorrect:!1},{text:"Disabling database security",isCorrect:!1},{text:"Using default credentials",isCorrect:!1}]},{questionText:"What is the purpose of the ORDER BY clause in SQL injection?",answerOptions:[{text:"To determine number of columns in result set",isCorrect:!0},{text:"To encrypt data",isCorrect:!1},{text:"To delete records",isCorrect:!1},{text:"To create users",isCorrect:!1}]},{questionText:"How can WAF (Web Application Firewall) prevent SQL injection?",answerOptions:[{text:"By filtering malicious SQL patterns",isCorrect:!0},{text:"By slowing down the database",isCorrect:!1},{text:"By encrypting all data",isCorrect:!1},{text:"By blocking all traffic",isCorrect:!1}]},{questionText:"What role does input escaping play in preventing SQL injection?",answerOptions:[{text:"Neutralizing special characters in user input",isCorrect:!0},{text:"Blocking all user input",isCorrect:!1},{text:"Encrypting the database",isCorrect:!1},{text:"Disabling SQL queries",isCorrect:!1}]},{questionText:"Which database feature can help prevent SQL injection?",answerOptions:[{text:"Stored procedures with proper parameters",isCorrect:!0},{text:"Disabling all security",isCorrect:!1},{text:"Using plain text storage",isCorrect:!1},{text:"Removing user authentication",isCorrect:!1}]},{questionText:"What makes second-order SQL injection different?",answerOptions:[{text:"It uses stored malicious data from a previous operation",isCorrect:!0},{text:"It only works on secondary servers",isCorrect:!1},{text:"It requires two databases",isCorrect:!1},{text:"It needs two users",isCorrect:!1}]},{questionText:"How does ORM (Object-Relational Mapping) help prevent SQL injection?",answerOptions:[{text:"By automatically handling query parameterization",isCorrect:!0},{text:"By removing database access",isCorrect:!1},{text:"By encrypting all queries",isCorrect:!1},{text:"By limiting database size",isCorrect:!1}]},{questionText:"Which command is used to test for SQL injection vulnerabilities using sqlmap?",answerOptions:[{text:"sqlmap -u http://example.com/vulnerable.php?id=1 --batch",isCorrect:!0},{text:"nmap -sS 192.168.1.1",isCorrect:!1},{text:"ping 192.168.1.1",isCorrect:!1},{text:"curl http://example.com",isCorrect:!1}]},{questionText:"What sqlmap option is used to enumerate databases?",answerOptions:[{text:"--dbs",isCorrect:!0},{text:"--tables",isCorrect:!1},{text:"--columns",isCorrect:!1},{text:"--dump",isCorrect:!1}]},{questionText:"Which sqlmap command dumps the contents of a specific table?",answerOptions:[{text:"sqlmap -u http://example.com/vulnerable.php?id=1 --dump -T users",isCorrect:!0},{text:"sqlmap -u http://example.com/vulnerable.php?id=1 --dbs",isCorrect:!1},{text:"sqlmap -u http://example.com/vulnerable.php?id=1 --tables",isCorrect:!1},{text:"sqlmap -u http://example.com/vulnerable.php?id=1 --columns",isCorrect:!1}]}],S=(s,t)=>{g(t),m(s),s&&x(c+1),setTimeout(()=>{r<o.length-1?p(r+1):f(!0),g(null),m(null)},1e3)},d=()=>Math.round(c/o.length*100),w=async()=>{var s;if(a){h(!0);try{const t=await D(a.id),n={...t==null?void 0:t.progress,sqlInjection:{...(s=t==null?void 0:t.progress)==null?void 0:s.sqlInjection,finalQuiz:{completed:!0,score:c,totalQuestions:o.length,percentage:d(),completedAt:new Date().toISOString()},level1_article:{completed:!0,completedAt:new Date().toISOString()},level1_initial_quiz:{completed:!0,completedAt:new Date().toISOString()},level1_labs_first:{completed:!0,completedAt:new Date().toISOString()},level1_final_quiz:{completed:!0,completedAt:new Date().toISOString()}}};t?await k(a.id,n):await T(a.id,n)}catch(t){console.error("Error saving progress:",t)}finally{h(!1)}}},v=()=>{const s=d();return s>=80?"Excellent! You have mastered SQL injection concepts and protections!":s>=60?"Good job! You understand most concepts but might want to review some topics.":"You might want to review the material and labs before proceeding."};return e.jsxs("div",{style:{backgroundColor:"#151B3B",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx(A,{pageType:"sql"}),a&&e.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3},children:e.jsx(B,{module:j,size:"small"})})]}),e.jsxs("div",{style:{flex:1,color:"#fff",padding:"40px",fontFamily:"Georgia, serif"},children:[e.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",backgroundColor:"#1a2147",padding:"30px",borderRadius:"10px",boxShadow:"0 0 20px rgba(0,0,0,0.3)"},children:C?e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h2",{style:{color:"#5DADE2",marginBottom:"20px"},children:"Final Quiz Complete!"}),e.jsxs("div",{style:{fontSize:"24px",marginBottom:"20px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[e.jsxs("p",{children:["You scored ",c," out of ",o.length]}),e.jsxs("p",{style:{color:"#F1C40F"},children:["Percentage: ",d(),"%"]})]}),e.jsx("p",{style:{fontSize:"18px",marginBottom:"30px",color:"#F1C40F"},children:v()}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[b&&e.jsx("p",{style:{color:"#5DADE2",textAlign:"center"},children:"Saving your progress..."}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("button",{onClick:()=>{f(!1),p(0),x(0)},style:{backgroundColor:"#5DADE2",color:"#fff",padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"←"}),"Retake Quiz"]}),e.jsx(u,{to:"/Sql-Injection/HomePage",style:{backgroundColor:"#F1C40F",color:"#000",padding:"10px 20px",borderRadius:"5px",textDecoration:"none"},onClick:w,children:"Complete Level 1"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("h3",{style:{color:"#5DADE2",marginBottom:"10px"},children:["Question ",r+1,"/",o.length]}),e.jsx("div",{style:{height:"10px",backgroundColor:"#2C3E50",borderRadius:"5px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${(r+1)/o.length*100}%`,height:"100%",backgroundColor:"#5DADE2",transition:"width 0.3s ease"}})})]}),e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsx("h2",{style:{color:"#F1C40F",marginBottom:"20px"},children:o[r].questionText}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:o[r].answerOptions.map((s,t)=>e.jsx("button",{onClick:()=>S(s.isCorrect,t),disabled:l!==null,style:{backgroundColor:l===t?y?"#2ecc71":"#e74c3c":"#2C3E50",border:"none",padding:"15px",borderRadius:"5px",color:"#fff",cursor:l===null?"pointer":"default",textAlign:"left",transition:"all 0.3s",transform:l===t?"scale(1.02)":"scale(1)",boxShadow:l===t?"0 4px 8px rgba(0,0,0,0.2)":"none"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{width:"25px",height:"25px",borderRadius:"50%",backgroundColor:"#5DADE2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:String.fromCharCode(65+t)}),s.text]})},t))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"30px"},children:o.map((s,t)=>e.jsx("button",{onClick:()=>p(t),style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:r===t?"#F1C40F":"#2C3E50",border:"none",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:n=>{r!==t&&(n.currentTarget.style.backgroundColor="#34495E")},onMouseLeave:n=>{r!==t&&(n.currentTarget.style.backgroundColor="#2C3E50")}},t))})]})}),e.jsx("div",{style:{maxWidth:"800px",margin:"20px auto 0",display:"flex",justifyContent:"space-between"},children:e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsxs(u,{to:"/",style:{backgroundColor:"#5DADE2",color:"#fff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"🏠"}),"Home"]}),e.jsxs(u,{to:"/Sql-Injection/AttackPages/BlindSqlInjection",style:{backgroundColor:"#34495E",color:"#fff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"←"}),"Return to Blind SQL Injection"]})]})})]})]})};export{L as default};
//# sourceMappingURL=FinalQuiz-BwC1Z6w-.js.map
